{
  "dialog_id": 3,
  "question": "Какая порода у моей собаки?",
  "analysis": {
    "question": "Какая порода у моей собаки?",
    "topic": "pets",
    "confidence": 0.27999999999999997,
    "strategy": "topic_rag",
    "total_sessions": 40,
    "relevance_scores": {
      "1": {
        "score": 1,
        "status": "релевантная",
        "matched_keywords": [
          "лечить"
        ],
        "content_length": 34,
        "message_count": 1
      },
      "2": {
        "score": 1,
        "status": "релевантная",
        "matched_keywords": [
          "прогулка"
        ],
        "content_length": 59,
        "message_count": 1
      },
      "3": {
        "score": 3,
        "status": "релевантная",
        "matched_keywords": [
          "лечение",
          "поводок",
          "здоровый"
        ],
        "content_length": 150,
        "message_count": 3
      },
      "4": {
        "score": 4,
        "status": "релевантная",
        "matched_keywords": [
          "лечить",
          "кличка",
          "гулять",
          "кошка"
        ],
        "content_length": 369,
        "message_count": 9
      },
      "5": {
        "score": 1,
        "status": "релевантная",
        "matched_keywords": [
          "прогулка"
        ],
        "content_length": 41,
        "message_count": 1
      },
      "6": {
        "score": 4,
        "status": "релевантная",
        "matched_keywords": [
          "лечить",
          "вакцины",
          "прогулка",
          "котенок"
        ],
        "content_length": 248,
        "message_count": 7
      },
      "7": {
        "score": 0,
        "status": "низкая релевантность",
        "matched_keywords": [],
        "content_length": 22,
        "message_count": 1
      },
      "8": {
        "score": 0,
        "status": "низкая релевантность",
        "matched_keywords": [],
        "content_length": 18,
        "message_count": 1
      },
      "9": {
        "score": 2,
        "status": "релевантная",
        "matched_keywords": [
          "гуляла",
          "прогулка"
        ],
        "content_length": 99,
        "message_count": 1
      },
      "10": {
        "score": 6,
        "status": "релевантная",
        "matched_keywords": [
          "вакцина",
          "клички",
          "прогулка",
          "прививки",
          "ошейник",
          "поводок"
        ],
        "content_length": 274,
        "message_count": 5
      },
      "11": {
        "score": 1,
        "status": "релевантная",
        "matched_keywords": [
          "здоровая"
        ],
        "content_length": 71,
        "message_count": 1
      },
      "12": {
        "score": 2,
        "status": "релевантная",
        "matched_keywords": [
          "животные",
          "прививки"
        ],
        "content_length": 21,
        "message_count": 1
      },
      "13": {
        "score": 2,
        "status": "релевантная",
        "matched_keywords": [
          "клиника",
          "здоровый"
        ],
        "content_length": 153,
        "message_count": 3
      },
      "15": {
        "score": 2,
        "status": "релевантная",
        "matched_keywords": [
          "болезнь",
          "лечить"
        ],
        "content_length": 306,
        "message_count": 5
      },
      "17": {
        "score": 0,
        "status": "низкая релевантность",
        "matched_keywords": [],
        "content_length": 32,
        "message_count": 1
      },
      "18": {
        "score": 2,
        "status": "релевантная",
        "matched_keywords": [
          "лечить",
          "прививки"
        ],
        "content_length": 57,
        "message_count": 1
      },
      "19": {
        "score": 0,
        "status": "низкая релевантность",
        "matched_keywords": [],
        "content_length": 26,
        "message_count": 1
      },
      "20": {
        "score": 3,
        "status": "релевантная",
        "matched_keywords": [
          "лечить",
          "прививки",
          "кормила"
        ],
        "content_length": 87,
        "message_count": 2
      },
      "21": {
        "score": 5,
        "status": "релевантная",
        "matched_keywords": [
          "кличка",
          "прогулка",
          "коты",
          "порода",
          "кормила"
        ],
        "content_length": 232,
        "message_count": 5
      },
      "22": {
        "score": 2,
        "status": "релевантная",
        "matched_keywords": [
          "клиника",
          "клички"
        ],
        "content_length": 210,
        "message_count": 2
      },
      "23": {
        "score": 1,
        "status": "релевантная",
        "matched_keywords": [
          "прогулка"
        ],
        "content_length": 37,
        "message_count": 1
      },
      "24": {
        "score": 2,
        "status": "релевантная",
        "matched_keywords": [
          "собака",
          "порода"
        ],
        "content_length": 63,
        "message_count": 1
      },
      "26": {
        "score": 1,
        "status": "релевантная",
        "matched_keywords": [
          "породы"
        ],
        "content_length": 146,
        "message_count": 2
      },
      "27": {
        "score": 3,
        "status": "релевантная",
        "matched_keywords": [
          "лечить",
          "прививки",
          "кормила"
        ],
        "content_length": 216,
        "message_count": 3
      },
      "28": {
        "score": 6,
        "status": "релевантная",
        "matched_keywords": [
          "щенок",
          "болезнь",
          "собака",
          "кошка",
          "лечить",
          "кормила"
        ],
        "content_length": 161,
        "message_count": 3
      },
      "29": {
        "score": 4,
        "status": "релевантная",
        "matched_keywords": [
          "гуляла",
          "животные",
          "прививки",
          "кошки"
        ],
        "content_length": 148,
        "message_count": 3
      },
      "30": {
        "score": 1,
        "status": "релевантная",
        "matched_keywords": [
          "кличка"
        ],
        "content_length": 37,
        "message_count": 1
      },
      "31": {
        "score": 3,
        "status": "релевантная",
        "matched_keywords": [
          "болезнь",
          "прогулка",
          "животное"
        ],
        "content_length": 310,
        "message_count": 3
      },
      "32": {
        "score": 1,
        "status": "релевантная",
        "matched_keywords": [
          "животные"
        ],
        "content_length": 162,
        "message_count": 3
      },
      "33": {
        "score": 1,
        "status": "релевантная",
        "matched_keywords": [
          "щенка"
        ],
        "content_length": 96,
        "message_count": 2
      },
      "34": {
        "score": 3,
        "status": "релевантная",
        "matched_keywords": [
          "животные",
          "прививки",
          "прогулка"
        ],
        "content_length": 138,
        "message_count": 1
      },
      "35": {
        "score": 3,
        "status": "релевантная",
        "matched_keywords": [
          "вакцина",
          "имена",
          "кормила"
        ],
        "content_length": 74,
        "message_count": 2
      },
      "36": {
        "score": 2,
        "status": "релевантная",
        "matched_keywords": [
          "прогулка",
          "прививки"
        ],
        "content_length": 54,
        "message_count": 1
      },
      "37": {
        "score": 1,
        "status": "релевантная",
        "matched_keywords": [
          "прививки"
        ],
        "content_length": 59,
        "message_count": 1
      },
      "38": {
        "score": 0,
        "status": "низкая релевантность",
        "matched_keywords": [],
        "content_length": 63,
        "message_count": 1
      },
      "39": {
        "score": 2,
        "status": "релевантная",
        "matched_keywords": [
          "животные",
          "прививки"
        ],
        "content_length": 182,
        "message_count": 4
      },
      "40": {
        "score": 1,
        "status": "релевантная",
        "matched_keywords": [
          "прогулка"
        ],
        "content_length": 135,
        "message_count": 4
      },
      "41": {
        "score": 1,
        "status": "релевантная",
        "matched_keywords": [
          "гулять"
        ],
        "content_length": 36,
        "message_count": 1
      },
      "42": {
        "score": 3,
        "status": "релевантная",
        "matched_keywords": [
          "животные",
          "поводок",
          "прививки"
        ],
        "content_length": 151,
        "message_count": 2
      },
      "43": {
        "score": 2,
        "status": "релевантная",
        "matched_keywords": [
          "прививки",
          "породы"
        ],
        "content_length": 43,
        "message_count": 2
      }
    },
    "sorted_sessions": [
      [
        10,
        6
      ],
      [
        28,
        6
      ],
      [
        21,
        5
      ],
      [
        4,
        4
      ],
      [
        6,
        4
      ],
      [
        29,
        4
      ],
      [
        3,
        3
      ],
      [
        20,
        3
      ],
      [
        27,
        3
      ],
      [
        31,
        3
      ],
      [
        34,
        3
      ],
      [
        35,
        3
      ],
      [
        42,
        3
      ],
      [
        9,
        2
      ],
      [
        12,
        2
      ],
      [
        13,
        2
      ],
      [
        15,
        2
      ],
      [
        18,
        2
      ],
      [
        22,
        2
      ],
      [
        24,
        2
      ],
      [
        36,
        2
      ],
      [
        39,
        2
      ],
      [
        43,
        2
      ],
      [
        1,
        1
      ],
      [
        2,
        1
      ],
      [
        5,
        1
      ],
      [
        11,
        1
      ],
      [
        23,
        1
      ],
      [
        26,
        1
      ],
      [
        30,
        1
      ],
      [
        32,
        1
      ],
      [
        33,
        1
      ],
      [
        37,
        1
      ],
      [
        40,
        1
      ],
      [
        41,
        1
      ],
      [
        7,
        0
      ],
      [
        8,
        0
      ],
      [
        17,
        0
      ],
      [
        19,
        0
      ],
      [
        38,
        0
      ]
    ]
  },
  "summary": {
    "total_sessions": 40,
    "relevant_sessions": 35,
    "topic": "pets",
    "confidence": 0.27999999999999997,
    "strategy": "topic_rag"
  }
}