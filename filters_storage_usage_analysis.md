# üîç –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è filters/ –∏ storage/

## üìä –û–ë–©–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### filters/ - –ê–ö–¢–ò–í–ù–û –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
- **–§–∞–π–ª–æ–≤:** 6 —Ñ–∞–π–ª–æ–≤
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö —Å–∏—Å—Ç–µ–º—ã
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–∫—Ç–∏–≤–µ–Ω

### storage/ - –ê–ö–¢–ò–í–ù–û –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø  
- **–§–∞–π–ª–æ–≤:** 5 —Ñ–∞–π–ª–æ–≤
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö —Å–∏—Å—Ç–µ–º—ã
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–∫—Ç–∏–≤–µ–Ω

## üîç –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### üìÅ filters/ - –ì–î–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø

#### 1. `session_grouper.py` - –ê–ö–¢–ò–í–ù–û –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
**–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤:**
- `model_inference_optimized.py` - —Å—Ç—Ä–æ–∫–∞ 75: `from .filters.session_grouper import SessionGrouper`
- `smart_memory.py` - —Å—Ç—Ä–æ–∫–∞ 116: `from .filters.session_grouper import SessionGrouper`
- `smart_memory.py` - —Å—Ç—Ä–æ–∫–∞ 125: `from .filters.session_grouper import extract_session_content`
- `smart_memory_optimized.py` - —Å—Ç—Ä–æ–∫–∞ 157: `from .filters.session_grouper import SessionGrouper`
- `smart_memory_optimized.py` - —Å—Ç—Ä–æ–∫–∞ 167: `from .filters.session_grouper import extract_session_content`

**–§—É–Ω–∫—Ü–∏–∏:**
- `SessionGrouper` - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ —Å–µ—Å—Å–∏—è–º
- `extract_session_content` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–µ—Å—Å–∏–π

#### 2. `message_cleaner.py` - –ê–ö–¢–ò–í–ù–û –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
**–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤:**
- `model_inference_optimized.py` - —Å—Ç—Ä–æ–∫–∞ 96: `from .filters.message_cleaner import is_copy_paste_content, is_personal_message`

**–§—É–Ω–∫—Ü–∏–∏:**
- `is_copy_paste_content` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ø–∏–ø–∞—Å—Ç–∞
- `is_personal_message` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- `clean_messages` - –æ—á–∏—Å—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- `get_message_quality_score` - –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

#### 3. `relevance_filter.py` - –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –í RAG
**–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤:**
- `rag/compressed_rag_engine.py` - –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- `rag/engine.py` - –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ RAG

**–§—É–Ω–∫—Ü–∏–∏:**
- `RelevanceFilter` - —Ñ–∏–ª—å—Ç—Ä —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- `find_relevant_sessions` - –ø–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Å–µ—Å—Å–∏–π

#### 4. `keyword_matcher.py` - –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –í RAG
**–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤:**
- `rag/compressed_rag_engine.py` - –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- `rag/interface.py` - –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ RAG

**–§—É–Ω–∫—Ü–∏–∏:**
- `KeywordMatcher` - –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- `find_messages_by_topic` - –ø–æ–∏—Å–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ —Ç–µ–º–µ

#### 5. `regex_patterns.py` - –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –í–ù–£–¢–†–ò filters/
**–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤:**
- `message_cleaner.py` - –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ—á–∏—Å—Ç–∫–∏
- `session_grouper.py` - –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- `COMPILED_PATTERNS` - —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
- `PERSONAL_MARKERS` - –º–∞—Ä–∫–µ—Ä—ã –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- `COPYPASTE_MARKERS` - –º–∞—Ä–∫–µ—Ä—ã –∫–æ–ø–∏–ø–∞—Å—Ç–∞
- `TECH_SIGNS` - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏

#### 6. `__init__.py` - –≠–ö–°–ü–û–†–¢–ò–†–£–ï–¢ –í–°–ï –§–£–ù–ö–¶–ò–ò
**–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π filters/**

### üìÅ storage/ - –ì–î–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø

#### 1. `memory_storage.py` - –ê–ö–¢–ò–í–ù–û –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
**–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤:**
- `model_inference_optimized.py` - —Å—Ç—Ä–æ–∫–∞ 9: `from .storage import MemoryStorage`

**–ö–ª–∞—Å—Å—ã:**
- `MemoryStorage` - –æ—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–∞–º—è—Ç–∏

#### 2. `session_manager.py` - –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –í–ù–£–¢–†–ò storage/
**–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤:**
- `memory_storage.py` - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏
- `session_grouper.py` - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Å—Å–∏—è–º–∏

**–ö–ª–∞—Å—Å—ã:**
- `SessionManager` - –º–µ–Ω–µ–¥–∂–µ—Ä —Å–µ—Å—Å–∏–π

#### 3. `memory_models.py` - –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –í–ù–£–¢–†–ò storage/
**–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤:**
- `memory_storage.py` - –¥–ª—è –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
- `session_manager.py` - –¥–ª—è –º–æ–¥–µ–ª–µ–π —Å–µ—Å—Å–∏–π

**–ö–ª–∞—Å—Å—ã:**
- `MemoryRegistry` - —Ä–µ–µ—Å—Ç—Ä –ø–∞–º—è—Ç–∏
- `MemoryStats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–º—è—Ç–∏
- `CacheStats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—ç—à–∞
- `MemoryEntry` - –∑–∞–ø–∏—Å—å –ø–∞–º—è—Ç–∏
- `CacheEntry` - –∑–∞–ø–∏—Å—å –∫—ç—à–∞

#### 4. `session_models.py` - –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –í–ù–£–¢–†–ò storage/
**–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤:**
- `session_manager.py` - –¥–ª—è –º–æ–¥–µ–ª–µ–π —Å–µ—Å—Å–∏–π

**–ö–ª–∞—Å—Å—ã:**
- `SessionRegistry` - —Ä–µ–µ—Å—Ç—Ä —Å–µ—Å—Å–∏–π
- `SessionInfo` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Å—Å–∏–∏
- `SessionStats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Å—Å–∏–π

#### 5. `__init__.py` - –≠–ö–°–ü–û–†–¢–ò–†–£–ï–¢ –í–°–ï –ö–õ–ê–°–°–´
**–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –∫–ª–∞—Å—Å—ã –∏–∑ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π storage/**

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –§–£–ù–ö–¶–ò–ò

### filters/ - –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò
1. **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–µ—Å—Å–∏–π** - `SessionGrouper` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
2. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–ø–∏–ø–∞—Å—Ç–∞** - `is_copy_paste_content` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ optimized –≤–µ—Ä—Å–∏–∏
3. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π** - `is_personal_message` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ optimized –≤–µ—Ä—Å–∏–∏
4. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ RAG —Å–∏—Å—Ç–µ–º–µ
5. **–ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ RAG —Å–∏—Å—Ç–µ–º–µ

### storage/ - –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò
1. **–•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏** - `MemoryStorage` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ optimized –≤–µ—Ä—Å–∏–∏
2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏** - `SessionManager` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ storage
3. **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö** - –≤—Å–µ –º–æ–¥–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ storage

## ‚úÖ –í–´–í–û–î

### filters/ - –ü–û–õ–ù–û–°–¢–¨–Æ –ê–ö–¢–ò–í–ï–ù
- **–í—Å–µ 6 —Ñ–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è**
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è —Å–∏—Å—Ç–µ–º—ã**
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:**
  - `model_inference_optimized.py`
  - `smart_memory.py`
  - `smart_memory_optimized.py`
  - `rag/compressed_rag_engine.py`
  - `rag/engine.py`

### storage/ - –ü–û–õ–ù–û–°–¢–¨–Æ –ê–ö–¢–ò–í–ï–ù
- **–í—Å–µ 5 —Ñ–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è**
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è —Å–∏—Å—Ç–µ–º—ã**
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:**
  - `model_inference_optimized.py`
  - `filters/session_grouper.py`
  - –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ storage

## üö´ –ù–ï –£–î–ê–õ–Ø–¢–¨!

**–û–±–µ –ø–∞–ø–∫–∏ `filters/` –∏ `storage/` —è–≤–ª—è—é—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã –∏ –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–æ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö. –£–¥–∞–ª–µ–Ω–∏–µ –ª—é–±–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–∑ —ç—Ç–∏—Ö –ø–∞–ø–æ–∫ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø–æ–ª–æ–º–∫–µ —Å–∏—Å—Ç–µ–º—ã!**
